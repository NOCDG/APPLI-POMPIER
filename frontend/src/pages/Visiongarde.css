/* ============================
   VISION GARDES â€” Visiongarde.css
============================ */

.pl-container { max-width: 1200px; margin: 0 auto; }

.pl-title { margin: 0 0 4px; font-size: 1.5rem; font-weight: 800; color: var(--text); letter-spacing: -0.3px; }

/* ===== Toolbar ===== */
.pl-toolbar {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 20px;
  padding: 10px 14px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
}

.pl-toolbar select {
  padding: 8px 10px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--surface-3);
  color: var(--text);
  outline: none;
  font-size: 13px;
  transition: border-color var(--transition);
}
.pl-toolbar select:focus { border-color: var(--accent); }

.pl-btn {
  padding: 8px 14px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--btn);
  color: var(--text);
  cursor: pointer;
  font-size: 13px;
  font-weight: 600;
  transition: background var(--transition);
}
.pl-btn:hover:not(:disabled) { background: var(--raised); }
.pl-btn:disabled { opacity: .5; cursor: not-allowed; }

/* ===== Grille ===== */
.pl-grid {
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 14px;
}
@media (max-width: 1300px) { .pl-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 900px)   { .pl-grid { grid-template-columns: 1fr; } }

.pl-empty {
  color: var(--text-muted);
  border: 1px dashed var(--border);
  border-radius: 12px;
  padding: 20px;
  grid-column: 1/-1;
  text-align: center;
  font-size: 14px;
}

/* ===== Carte jour ===== */
.pl-day {
  border: 1px solid var(--border);
  border-radius: 14px;
  background: var(--surface);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition:
    box-shadow var(--transition),
    transform var(--transition),
    border-color var(--transition);
}
.pl-day:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
  border-color: var(--accent);
}

.pl-day-head {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
  padding: 10px 14px;
  background: var(--header-day);
  border-bottom: 1px solid var(--header-day-border);
  color: #fff;
}
.pl-date { font-weight: 700; font-size: 13px; flex: 1; }
.pl-chip {
  background: rgba(255,255,255,0.2);
  color: #fff;
  border: 1px solid rgba(255,255,255,0.35);
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.04em;
}

/* ===== Blocs garde (JOUR / NUIT) ===== */
.pl-garde {
  padding: 12px 14px;
  border-top: 1px solid var(--border-dim);
}
.pl-garde:first-of-type { border-top: none; }
.pl-garde.day   { background: var(--card-day-bg); }
.pl-garde.night { background: var(--card-night-bg); }

.pl-garde-head {
  display: flex;
  align-items: center;
  gap: 8px;
  background: var(--garde-head-bg);
  border-radius: 8px;
  padding: 5px 12px;
  margin-bottom: 10px;
  color: #fff;
  font-size: 12px;
  font-weight: 700;
  letter-spacing: 0.05em;
}

/* ===== Lignes piquets ===== */
.pl-rows { display: flex; flex-direction: column; gap: 5px; }

.pl-row {
  display: grid;
  grid-template-columns: 76px 1fr;
  gap: 8px;
  align-items: center;
  padding: 5px 8px;
  border-radius: 8px;
  transition: background var(--transition);
}
.pl-row:hover { background: var(--card-pill-bg); }

.pl-piquet {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 8px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.05em;
  background: var(--card-pill-bg);
  color: var(--card-text);
  border: 1px solid var(--card-pill-border);
  white-space: nowrap;
  opacity: 0.85;
}

.pl-assignee {
  display: flex;
  align-items: center;
  min-height: 26px;
}

.pl-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 10px;
  border-radius: 999px;
  background: var(--card-pill-bg);
  border: 1px solid var(--card-pill-border);
  font-size: 13px;
  font-weight: 600;
  color: var(--card-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}
.pl-pill::before {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--ok);
  flex-shrink: 0;
}

.pl-empty-small { color: var(--card-text-muted); font-size: 13px; }

/* ===== Badges validation ===== */
.pl-badge-ok {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 8px; border-radius: 6px;
  background: var(--badge-ok-bg); color: var(--badge-ok-text);
  font-weight: 700; border: 1px solid var(--badge-ok-border); font-size: 11px;
}
.pl-badge-bad {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 3px 8px; border-radius: 6px;
  background: var(--badge-bad-bg); color: var(--badge-bad-text);
  font-weight: 700; border: 1px solid var(--badge-bad-border); font-size: 11px;
}

/* ===== Actions / mini-boutons ===== */
.pl-actions { display: flex; justify-content: flex-end; margin-top: 6px; }
.pl-btn-mini {
  padding: 5px 9px; border-radius: 7px;
  border: 1px solid var(--border); background: var(--btn-blue); color: #e9eeff;
  cursor: pointer; font-size: 12px; font-weight: 600;
  transition: filter var(--transition);
}
.pl-btn-mini:hover { filter: brightness(1.1); }
.pl-btn-danger-mini {
  padding: 5px 9px; border-radius: 7px;
  border: 1px solid var(--danger-border); background: var(--danger-dim); color: var(--danger);
  cursor: pointer; font-size: 12px; font-weight: 600;
  transition: background var(--transition);
}
.pl-btn-danger-mini:hover { background: var(--danger-bg); color: #fff; }

/* ===== Panel slide-up ===== */
.pl-panel {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(4px);
  display: flex; align-items: flex-end;
  z-index: 200;
}
.pl-panel-card {
  background: var(--surface);
  border-top-left-radius: 20px; border-top-right-radius: 20px;
  width: 100%; max-height: 82vh; overflow: auto;
  padding: 20px; border-top: 1px solid var(--border);
  box-shadow: var(--shadow-lg);
}
.pl-panel-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 4px; }
.pl-panel-title { font-weight: 700; font-size: 15px; }
.pl-panel-sub { color: var(--text-muted); font-size: 13px; }
.pl-x {
  border: none; background: transparent; color: var(--text-muted);
  font-size: 20px; cursor: pointer; padding: 4px 8px; border-radius: 8px;
  transition: background var(--transition);
}
.pl-x:hover { background: var(--raised); }

.pl-panel-block { margin-top: 14px; }
.pl-subtitle { font-weight: 600; color: var(--text-subtle); margin-bottom: 8px; font-size: 12px; letter-spacing: 0.05em; text-transform: uppercase; }
.pl-muted { color: var(--text-muted); font-size: 13px; padding: 12px 0; }

.pl-input {
  width: 100%; padding: 10px 12px; border-radius: 9px;
  border: 1px solid var(--border); background: var(--surface-3); color: var(--text);
  outline: none; font-size: 14px; transition: border-color var(--transition);
}
.pl-input:focus { border-color: var(--accent); }

.pl-suggests, .pl-results { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 10px; }
.pl-suggest, .pl-result {
  padding: 7px 12px; border-radius: 9px;
  border: 1px solid var(--border); background: var(--surface-2); color: var(--text);
  cursor: pointer; font-size: 13px; font-weight: 500;
  transition: background var(--transition), border-color var(--transition);
}
.pl-suggest:hover, .pl-result:hover {
  background: var(--raised);
  border-color: var(--accent);
}

.pl-garde.locked { opacity: .6; }
.pl-actions .pl-btn-mini[disabled],
.pl-actions .pl-btn-danger-mini[disabled] { opacity: .4; cursor: not-allowed; }

/* Ruban mensuel */
.month-block { margin-bottom: 16px; }
.month-title { font-weight: 700; margin-bottom: 8px; color: var(--text); }
.month-strip { display: flex; gap: 6px; align-items: stretch; overflow-x: auto; padding: 4px 2px; }

.garde-card {
  border: 1px solid var(--border); border-radius: 10px; padding: 6px 8px;
  min-width: 70px; display: flex; flex-direction: column; align-items: center; font-size: 12px;
  background: var(--surface-2); color: var(--text);
  transition: box-shadow var(--transition), transform var(--transition);
}
.garde-card:hover { box-shadow: var(--shadow-sm); transform: translateY(-1px); }
.garde-card.weekend { outline: 2px dashed rgba(200,0,0,0.3); }
.garde-card.holiday { outline: 2px solid rgba(255,165,0,0.45); }
.garde-card .garde-date { font-weight: 700; }
.garde-card .garde-slot { opacity: 0.8; font-size: 11px; }
.garde-card .garde-equipe.empty { opacity: 0.5; }
.garde-card.jour { background: var(--card-day-bg); }
.garde-card.nuit { background: var(--card-night-bg); }

.name-col { width: 110px; min-width: 110px; max-width: 130px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cell-person { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
