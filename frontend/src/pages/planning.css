.pl-container,
main {
  max-width: none !important;
  width: 100% !important;
}

.pl-title { margin: 0 0 4px; font-size: 1.5rem; font-weight: 800; color: var(--text); letter-spacing: -0.3px; }

.pl-toolbar {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 16px;
  padding: 10px 14px;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
}

.pl-toolbar select {
  padding: 8px 10px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--surface-3);
  color: var(--text);
  outline: none;
  transition: border-color var(--transition);
}
.pl-toolbar select:focus { border-color: var(--accent); }

.pl-btn {
  padding: 8px 12px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--btn);
  color: var(--text);
  cursor: pointer;
  font-size: 13px;
  transition: background var(--transition), border-color var(--transition);
}
.pl-btn:hover { background: var(--raised); }

/* ===== Grille ===== */
.pl-grid {
  width: 100%;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: flex-start;
  gap: 10px;
  box-sizing: border-box;
}

.pl-empty {
  color: var(--text-muted);
  border: 1px dashed var(--border);
  border-radius: 12px;
  padding: 16px;
  grid-column: 1/-1;
}

/* ===== Ruban mensuel pleine largeur ===== */
.pl-fullbleed {
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
  width: 100vw;
  max-width: 100vw;
  box-sizing: border-box;
  padding-left: 12px;
  padding-right: 12px;
}

.pl-month-strip {
  display: flex;
  gap: 10px;
  justify-content: flex-start;
  align-items: stretch;
  flex-wrap: nowrap;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  position: relative;
  left: 50%;
  right: 50%;
  width: 100vw;
  margin-left: -50vw;
  margin-right: -50vw;
  box-sizing: border-box;
  padding: 10px 16px;
  background-color: transparent;
}

.pl-day {
  flex: 0 0 auto;
  min-width: 320px;
  max-width: 400px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: var(--surface);
  overflow: hidden;
  box-shadow: var(--shadow-sm);
  transition: box-shadow var(--transition), border-color var(--transition);
}
.pl-day:hover { box-shadow: var(--shadow-md); border-color: var(--accent); }

/* ===== Carte jour ===== */
.pl-day-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-radius: 10px 10px 0 0;
  padding: 10px 12px;
  border-bottom: 1px solid var(--header-day-border);
  background: var(--header-day);
  color: #fff;
}
.pl-date { font-weight: 700; }
.pl-chip {
  background: var(--chip-jf);
  color: var(--chip-jf-text);
  border-radius: 999px;
  padding: 2px 8px;
  font-size: 12px;
  font-weight: 600;
}

/* ===== Blocs garde ===== */
.pl-garde { padding: 10px 12px; border-top: 1px dashed var(--border-dim); }
.pl-garde:first-of-type { border-top: none; }
.pl-garde.day  { background: var(--card-day-bg);   border-radius: 0 0 10px 10px; }
.pl-garde.night{ background: var(--card-night-bg);  border-radius: 0 0 10px 10px; }

.pl-garde-head {
  display: flex;
  align-items: center;
  border-radius: 8px;
  background: var(--garde-head-bg);
  padding: 3px 12px;
  justify-content: space-between;
  margin-bottom: 6px;
  color: #fff;
}

/* ===== Tableau piquets ===== */
.pl-rows { display: flex; flex-direction: column; gap: 6px; }
.pl-row {
  display: grid;
  grid-template-columns: 76px 1fr auto;
  gap: 8px;
  align-items: center;
  padding: 4px 6px;
  border-radius: 7px;
  transition: background var(--transition);
}
.pl-row:hover { background: var(--card-pill-bg); }

.pl-piquet {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 7px;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.05em;
  background: var(--card-pill-bg);
  color: var(--card-text);
  border: 1px solid var(--card-pill-border);
  white-space: nowrap;
  opacity: 0.85;
}

.pl-assignee {
  min-height: 26px;
  display: flex;
  align-items: center;
  justify-content: flex-start;
  width: 100%;
}

.pl-pill {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 3px 10px;
  border-radius: 999px;
  background: var(--card-pill-bg);
  border: 1px solid var(--card-pill-border);
  font-size: 12px;
  font-weight: 600;
  color: var(--card-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}
.pl-pill::before {
  content: '';
  width: 6px; height: 6px;
  border-radius: 50%;
  background: var(--ok);
  flex-shrink: 0;
}

.pl-empty-small { color: var(--card-text-muted); }

/* Actions */
.pl-actions { display: flex; justify-content: flex-end; }

.pl-btn-mini {
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--btn-blue);
  color: #e9eeff;
  cursor: pointer;
  font-size: 12px;
  transition: background var(--transition);
}
.pl-btn-mini:hover { filter: brightness(1.1); }

.pl-btn-danger-mini {
  padding: 6px 8px;
  border-radius: 8px;
  border: 1px solid var(--danger-border);
  background: var(--danger-bg);
  color: #fff;
  cursor: pointer;
  font-size: 12px;
}
.pl-btn-danger-mini:hover { filter: brightness(1.1); }

/* ===== Panel modal ===== */
.pl-panel { position: fixed; inset: 0; background: rgba(0,0,0,.5); display: flex; align-items: flex-end; z-index: 200; }
.pl-panel-card {
  background: var(--surface);
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  width: 100%;
  max-height: 80vh;
  overflow: auto;
  padding: 16px;
  border-top: 1px solid var(--border);
  box-shadow: var(--shadow-lg);
}
.pl-panel-head { display: flex; align-items: center; justify-content: space-between; }
.pl-panel-title { font-weight: 700; }
.pl-panel-sub { color: var(--text-muted); font-size: 13px; }
.pl-x { border: none; background: transparent; color: var(--text-muted); font-size: 20px; cursor: pointer; }
.pl-x:hover { color: var(--text); }

.pl-panel-block { margin-top: 12px; }
.pl-subtitle { font-weight: 600; color: var(--text-subtle); margin-bottom: 6px; }
.pl-muted { color: var(--text-muted); }
.pl-input {
  width: 100%;
  padding: 10px 12px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--surface-3);
  color: var(--text);
  outline: none;
  transition: border-color var(--transition);
}
.pl-input:focus { border-color: var(--accent); }

.pl-suggests, .pl-results { display: flex; gap: 6px; flex-wrap: wrap; margin-top: 8px; }
.pl-suggest, .pl-result {
  padding: 8px 10px;
  border-radius: 9px;
  border: 1px solid var(--border);
  background: var(--surface-3);
  color: var(--text);
  cursor: pointer;
  transition: background var(--transition);
}
.pl-suggest:hover, .pl-result:hover { background: var(--raised); }

/* Lock */
.pl-garde.locked { opacity: .7; }
.pl-actions .pl-btn-mini[disabled],
.pl-actions .pl-btn-danger-mini[disabled] { opacity: .45; cursor: not-allowed; }

/* Badges OK / Bad */
.pl-badge-ok {
  margin-left: .5rem;
  padding: .2rem .5rem;
  border-radius: .5rem;
  background: var(--badge-ok-bg);
  color: var(--badge-ok-text);
  font-weight: 700;
  border: 1px solid var(--badge-ok-border);
  font-size: 12px;
}

.pl-badge-bad {
  margin-left: .5rem;
  padding: .2rem .5rem;
  border-radius: .5rem;
  background: var(--badge-bad-bg);
  color: var(--badge-bad-text);
  font-weight: 700;
  border: 1px solid var(--badge-bad-border);
  font-size: 12px;
}

/* Sections */
.pl-section { margin-top: 8px; }
.pl-section-title {
  font-weight: 800;
  letter-spacing: 0.06em;
  font-size: 0.8rem;
  opacity: 0.85;
  padding: 6px 0;
  border-bottom: 1px solid var(--border-dim);
  margin-bottom: 6px;
  color: var(--text-subtle);
  text-transform: uppercase;
}

.pl-divider { height: 1px; background: var(--border-dim); margin: 10px 0; }

/* Ruban mensuel */
.month-block { margin-bottom: 16px; }
.month-title { font-weight: 600; margin-bottom: 6px; color: var(--text); }
.month-strip {
  display: flex;
  gap: 6px;
  align-items: stretch;
  overflow-x: auto;
  padding: 4px 2px;
}

.garde-card {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 6px 8px;
  min-width: 70px;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 12px;
  background: var(--surface-2);
  color: var(--text);
}
.garde-card.weekend { outline: 2px dashed rgba(200,0,0,0.3); }
.garde-card.holiday { outline: 2px solid rgba(255,165,0,0.45); }
.garde-card .garde-date { font-weight: 600; }
.garde-card .garde-slot { opacity: 0.85; font-size: 11px; }
.garde-card .garde-equipe.empty { opacity: 0.5; }
.garde-card.jour  { background: var(--card-day-bg); }
.garde-card.nuit  { background: var(--card-night-bg); }

/* Colonnes nom */
.name-col { width: 110px; min-width: 110px; max-width: 130px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.cell-person { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Boutons icône */
.pl-icon-btn { border: none; background: none; cursor: pointer; font-size: 1.2rem; line-height: 1; padding: 2px 4px; transition: transform 0.15s ease; }
.pl-icon-btn:hover { transform: scale(1.2); }
.pl-icon-btn.add  { color: var(--ok); }
.pl-icon-btn.remove { color: var(--danger); }

/* Non affectés */
.pl-unassigned { margin-top: 8px; padding-top: 8px; border-top: 1px solid var(--border-dim); }
.pl-unassigned-list { display: flex; flex-wrap: wrap; gap: 4px; }

body { overflow-x: hidden; }
